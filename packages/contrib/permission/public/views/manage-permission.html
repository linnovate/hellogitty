<section data-ng-controller="PermissionController" data-ng-init="fetchPermission()">
	<ul class="nav nav-tabs" role="tablist">
		<li data-ng-if="hasPermission('canManagePermission')"><a href="/#!/manage/users">Active users</a></li>
		<li data-ng-if="hasPermission('canManagePermission')" class="active"><a href="/#!/manage/users/permissions">Permissions</a></li>
	</ul>
	<div data-ng-if="hasPermission('canManagePermission')">
		<span data-ng-if="permissionupdatemsg"><alert type="success" close="closeAlert()">{{permissionupdatemsg}}</alert></span>
		<div class="bs-docs-example manage-role-inner">
			<table class="table table-hover manage-role-table">
				<thead>
					<tr >
						<th>Permission</th>
						{{roles.data}}
						<th data-ng-repeat="role in roles">{{role}}</th>
					</tr>
				</thead>
				<tbody data-ng-repeat="allPermission in permissions">
					<tr>
						<td class="bold">{{allPermission.permission}}</td>
						<td data-ng-repeat="role in roles">
							<input type="checkbox" checklist-model="allPermission.roles" checklist-value="role">
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<button data-ng-click="savePermissions(permissions)" class=" btn btn-primary form-submit bmargin20 mb20">Save Permissions</button>
	</div>
	<div data-ng-if="!hasPermission('canManagePermission')" class="panel panel-info">
		<div class="panel-heading">
			<h3 class="panel-title">You are not authorize to access this page</h3>
		</div>
	</div>
</section>
